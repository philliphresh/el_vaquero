---
title: "El Vaquero Analysis"
author: "Phillip Sanderell"
format: html
editor: visual
---

## Import Data

Load the scraped review data.

```{r}
library(tidyverse)
el_vaq <- read_csv("el vaquero yelp reviews.csv")
```

## Clean Data

```{r}
el_vaq <- 
  el_vaq %>% 
  select(-...1) %>% 
  mutate(original_link = link) %>% 
  mutate(link = str_remove(link, "https://www.yelp.com/biz/el-vaquero-mexican-restaurant-columbus-")) %>% 
  mutate(link = str_extract(link, "^\\d+")) %>% 
  mutate(location = case_when(link == 10 ~ "Riverside",
                              link == 15 ~ "Olentangy",
                              TRUE ~ "check")) %>% 
  select(-link) %>% 
  mutate(state_or_country = str_remove(user_locations, "(.*)\\s")) %>% 
  mutate(city = if_else(str_count(user_locations, ",") > 1,
                              str_extract(user_locations, ",\\s(.*),"),
                              str_extract(user_locations, "(.*),"))) %>% 
  mutate(city = str_remove(city, "^,") %>% 
           str_remove(",$") %>% 
           str_trim())
```
